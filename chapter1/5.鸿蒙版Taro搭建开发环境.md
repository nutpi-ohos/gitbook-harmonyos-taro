# é¸¿è’™ç‰ˆTaro æ­å»ºå¼€å‘ç¯å¢ƒ

## ä¸€ã€é…ç½®é¸¿è’™ç¯å¢ƒ

### ä¸‹è½½å®‰è£… DevEco

å»ºè®®ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„ IDEï¼Œå½“å‰ä¸º 5.0.5Release ç‰ˆæœ¬ã€‚

## äºŒã€åˆ›å»ºé¸¿è’™é¡¹ç›®

æ‰“å¼€ DevEcoï¼Œç‚¹å‡»å³ä¸Šè§’çš„ `Create Project`ï¼Œåœ¨ `Application` å¤„é€‰æ‹© `Empty Ability`ï¼Œç‚¹å‡» `Next`ï¼Œè¿›å…¥é…ç½®é¡µé¢ï¼Œæ ¹æ®éœ€æ±‚è°ƒæ•´å†…å®¹ï¼Œè¿™é‡Œä½¿ç”¨é»˜è®¤é…ç½®ï¼š

1. Project nameï¼š`tarooh`
2. Bundle nameï¼š`com.nutpi.taro`
3. Save locationï¼šé€‰æ‹©éœ€è¦åˆ›å»ºçš„ç›®å½•ï¼Œä¾‹å¦‚ `~/test/tarooh`
4. Module nameï¼š`entry`

æ³¨æ„ï¼Œå½“å‰ Taro æ”¯æŒçš„ SDK ç‰ˆæœ¬ä¸º 4.1.1ã€‚

ç‚¹å‡» `Finish` å®Œæˆé¡¹ç›®åˆ›å»ºã€‚

## ä¸‰ã€å®‰è£… Taro 4.1

```bash
npm install -g @tarojs/cli
```

å®‰è£…æˆåŠŸåï¼Œæ£€æŸ¥ `taro` æ˜¯å¦ç”Ÿæ•ˆï¼š

```bash
taro --version
```

é¢„æœŸè¾“å‡ºï¼š

```
ğŸ‘½ Taro v4.1.1

4.1.1

```

## åˆå§‹åŒ–é¡¹ç›®

```bash
taro init taro-ohos
```

æŒ‰ç…§æç¤ºè¾“å…¥ä»¥ä¸‹é…ç½®ï¼š

æ³¨æ„ï¼šå½“å‰ä»…æ”¯æŒä½¿ç”¨ Vite ç¼–è¯‘é¸¿è’™åº”ç”¨ï¼Œæ‰€ä»¥åœ¨é…ç½®æ—¶è¯·æ³¨æ„é€‰æ‹©ã€‚

```bash
? è¯·è¾“å…¥é¡¹ç›®ä»‹ç» taro ohos
? è¯·é€‰æ‹©æ¡†æ¶ React
? æ˜¯å¦éœ€è¦ä½¿ç”¨ TypeScriptï¼ŸYes
? è¯·é€‰æ‹© CSS é¢„å¤„ç†å™¨ï¼ˆSass/Less/Stylusï¼‰Sass
? è¯·é€‰æ‹©åŒ…ç®¡ç†å·¥å…· yarn
? è¯·é€‰æ‹©ç¼–è¯‘å·¥å…· Vite
? è¯·é€‰æ‹©æ¨¡æ¿æº Giteeï¼ˆæœ€å¿«ï¼‰
âœ” æ‹‰å–è¿œç¨‹æ¨¡æ¿ä»“åº“æˆåŠŸï¼
? è¯·é€‰æ‹©æ¨¡æ¿ é»˜è®¤æ¨¡æ¿
```

ç­‰å¾…é¡¹ç›®åˆ›å»ºæˆåŠŸï¼Œç›´åˆ°è¾“å‡ºä»¥ä¸‹æç¤ºï¼š

```bash
Done in 44.95s.
âœ” å®‰è£…é¡¹ç›®ä¾èµ–æˆåŠŸ
åˆ›å»ºé¡¹ç›® taro-ohos æˆåŠŸï¼
è¯·è¿›å…¥é¡¹ç›®ç›®å½• taro-ohos å¼€å§‹å·¥ä½œå§ï¼ğŸ˜
```

## å››ã€å®‰è£…é¸¿è’™æ’ä»¶

```bash
cd taro-ohos
```

ç„¶åä½¿ç”¨ npm å®‰è£…ï¼š

```bash
npm i @tarojs/plugin-platform-harmony-cpp
```

æˆ–è€…ä½¿ç”¨ pnpm å®‰è£…ï¼š

```bash
pnpm i @tarojs/plugin-platform-harmony-cpp
```

## äº”ã€ä¿®æ”¹ç¼–è¯‘é…ç½®

æ‰¾åˆ° `config/index.ts` æ–‡ä»¶ï¼Œåœ¨ `plugin` å¤„æ·»åŠ  `@tarojs/plugin-platform-harmony-cpp`ï¼Œå¹¶åœ¨ `rn` ä¸‹æ–¹æ·»åŠ  harmony é…ç½®ï¼š

```ts
import os from 'os'
import path from 'path'

const config = {
  // ...
 plugins: [
      ['@tarojs/plugin-platform-harmony-cpp', {

      }]
    ],
    harmony: {
      // compiler: 'vite',
      projectPath: path.join(os.homedir(), '/Desktop/test/tarooh'),
      hapName: 'entry',
    },
  // ...
}
```

æ³¨æ„ï¼šå°† `projectPath` è®¾ç½®ä¸º DevEco åˆ›å»ºçš„é¸¿è’™é¡¹ç›®ç›®å½•ã€‚

## å…­ã€ç¼–è¯‘é¸¿è’™åº”ç”¨

```bash
# ç¼–è¯‘é¸¿è’™åº”ç”¨
taro build --type harmony_cpp
# ç¼–è¯‘é¸¿è’™åŸç”Ÿç»„ä»¶
taro build native-components --type harmony_cpp
```

å¦‚æœéœ€è¦åŒæ—¶ç¼–è¯‘é¸¿è’™åº”ç”¨å’ŒåŸç”Ÿç»„ä»¶ï¼Œå¯ä»¥åœ¨é¡µé¢é…ç½®ä¸­æ·»åŠ  `entryOption: false` è¡¨ç¤ºè¯¥é¡µé¢æ˜¯ç»„ä»¶ï¼Œå¹¶é€šè¿‡ `componentName` æŒ‡å®šç»„ä»¶å¯¼å‡ºåï¼š

```diff
export default {
  navigationBarTitleText: 'Hello World',
+  componentName: 'MyComponent',
+  entryOption: false,
}
```

Taro ä¼šå°†ç¼–è¯‘å¥½çš„æ–‡ä»¶è¾“å‡ºè‡³é¸¿è’™é¡¹ç›®ç›®å½•ã€‚

## ä¸ƒã€è¿è¡Œé¸¿è’™åº”ç”¨

### 1.é…ç½®åº”ç”¨ç­¾å

æ‰“å¼€ `File` -> `Project Structure...`ï¼Œç‚¹å‡» `Signing Configs`ï¼Œç‚¹å‡» `Sign In`ï¼Œç™»å½•åä¸ºè´¦å·ï¼Œç‚¹å‡»å³ä¸‹è§’ `Apply`ï¼Œç„¶åç‚¹å‡» `OK`ï¼Œå®Œæˆç­¾åé…ç½®ã€‚



```js
{
  "name": "entry",
  "version": "1.0.0",
  "description": "Please describe the basic information.",
  "main": "",
  "author": "",
  "license": "",
  "dependencies": {
    "@taro-oh/library": "file:../static/@taro-oh/library-4.1.1.har"
  },
  "devDependencies": {}
}
```

### 2.è¿è¡Œåº”ç”¨

åœ¨ DevEco ä¸­ï¼Œç‚¹å‡»è¿è¡ŒæŒ‰é’®ã€‚

![image-20250519091441660](https://nutpi-e41b.obs.cn-north-4.myhuaweicloud.com/image-20250519091441660.png)

![image-20250518181807378](https://nutpi-e41b.obs.cn-north-4.myhuaweicloud.com/image-20250518181807378.png)



## å…«ã€å¸¸è§é—®é¢˜è§£ç­”ï¼ˆFAQï¼‰

### 1.ä¸å­˜åœ¨ç¼–è¯‘å¹³å° ${platform}

è‹¥è¿è¡Œ Taro æ—¶å‡ºç° `throw new Error('ä¸å­˜åœ¨ç¼–è¯‘å¹³å° ${platform}')` é”™è¯¯ï¼Œå¯èƒ½æ˜¯å› ä¸º `config/index.ts` æ–‡ä»¶ä¸­æœªæ·»åŠ  `@tarojs/plugin-platform-harmony-cpp` æ’ä»¶ã€‚

### 2.EPERM: operation not permitted

é‡åˆ°æƒé™é—®é¢˜æ—¶ï¼Œå¯æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```bash
mkdir -p ~/.npm-global/lib/node_modules
npm config set prefix '~/.npm-global'

npm install -g @tarojs/cli
```

## ä¹ã€å‚è€ƒèµ„æ–™

- [é¸¿è’™ & OpenHarmony | Taro æ–‡æ¡£](https://docs.taro.zone/docs/harmony/)
- [Taro é¡¹ç›®ä»“åº“](https://github.com/NervJS/taro)
- [Taro å®˜æ–¹æ–‡æ¡£](https://docs.taro.zone/docs)
- [Taro UI é¡¹ç›®ä»“åº“](https://github.com/NervJS/taro-ui)
- [Taro UI å®˜æ–¹æ–‡æ¡£](https://taro-ui.jd.com/)
- [plugin-platform-harmony-cpp](https://www.npmjs.com/package/@tarojs/plugin-platform-harmony-cpp?activeTab=versions)
- [taro-oh](https://ohpm.openharmony.cn/#/cn/detail/@taro-oh%2Flibrary)

## åã€Taro ä»“åº“æ¦‚è§ˆ

ä»¥ä¸‹æ˜¯ Taro çš„ä¸»è¦ NPM åŒ…åŠå…¶åŠŸèƒ½ï¼š

| è·¯å¾„                     | æè¿°                                              |
| ------------------------ | ------------------------------------------------- |
| `@tarojs/cli`            | CLI å·¥å…·                                          |
| `@tarojs/service`        | æ’ä»¶åŒ–å†…æ ¸                                        |
| `@tarojs/taro-loader`    | Webpack loaders                                   |
| `@tarojs/helper`         | å·¥å…·åº“ï¼Œä¸»è¦ä¾› CLIã€ç¼–è¯‘æ—¶ä½¿ç”¨                    |
| `@tarojs/runner-utils`   | å·¥å…·åº“ï¼Œä¸»è¦ä¾›å°ç¨‹åºã€H5 çš„ç¼–è¯‘å·¥å…·ä½¿ç”¨           |
| `@tarojs/shared`         | å·¥å…·åº“ï¼Œä¸»è¦ä¾›è¿è¡Œæ—¶ä½¿ç”¨                          |
| `@tarojs/taro`           | æš´éœ²å„ç«¯æ‰€éœ€è¦çš„ Taro å¯¹è±¡                        |
| `@tarojs/api`            | å’Œå„ç«¯ç›¸å…³çš„ Taro API                             |
| `babel-preset-taro`      | Babel preset                                      |
| `eslint-config-taro`     | ESLint è§„åˆ™                                       |
| `postcss-pxtransform`    | PostCSS æ’ä»¶ï¼Œè½¬æ¢ `px` ä¸ºå„ç«¯çš„è‡ªé€‚åº”å°ºå¯¸å•ä½    |
| `postcss-html-transform` | PostCSS æ’ä»¶ï¼Œç”¨äº HTMLã€å°ç¨‹åºæ ‡ç­¾çš„ç±»åç›¸äº’è½¬æ¢ |

## åšæœæ´¾ç¤¾åŒº

åšæœæ´¾ç¤¾åŒºç”±åšæœã€å°æ³¢ã€ç‹¼å“¥ç­‰äººåˆ›å»ºï¼Œå›¢é˜Ÿæˆå‘˜åŒ…æ‹¬æ•°ä½åä¸º HDE åŠ 1000+ HarmonyOS å¼€å‘è€…ï¼Œä»¥åŠä¸‰åä½™ä½ä¸‡ç²‰åšä¸»/UP ä¸»ï¼Œä¸“æ³¨äºåˆ†äº« HarmonyOS/OpenHarmonyã€ä»“é¢‰ã€ArkUI-Xã€å…ƒæœåŠ¡ã€AIã€BlueOS æ“ä½œç³»ç»Ÿç­‰æŠ€æœ¯ã€‚å›¢é˜Ÿæˆå‘˜ä¸»è¦åˆ†å¸ƒåœ¨åŒ—äº¬ã€ä¸Šæµ·ã€å—äº¬ã€æ·±åœ³ã€å¹¿å·ã€è‹å·ã€é•¿æ²™ã€å®å¤ç­‰åœ°ï¼Œå·²ä¸ºåä¸ºã€vivoã€è…¾è®¯ã€äºšé©¬é€Šç­‰æä¾›å¼€å‘å’¨è¯¢æœåŠ¡ 100+ æ¬¡ï¼Œç´¯è®¡ç²‰ä¸ 100w+ï¼Œå­µåŒ–å¼€å‘è€… 10w+ï¼Œè¦†ç›–é«˜æ ¡ 20+ã€ä¼ä¸š 10+ã€‚è‡ªç ”åº”ç”¨ 40 æ¬¾ï¼Œä¸‰æ–¹åº“ 80 ä¸ªï¼Œé¸¿è’™åŸç”Ÿåº”ç”¨è¯¾ç¨‹ 500+ï¼ŒæŒç»­åŠ©åŠ›é¸¿è’™ä»“é¢‰ç­‰ç”Ÿæ€ç¹è£å‘å±•ã€‚æ¬¢è¿å¤§å®¶åŠ å…¥ã€‚