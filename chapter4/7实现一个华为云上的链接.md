



## 接口信息

| API地址  | https://maas-cn-southwest-2.modelarts-maas.com/v1/infers/8a062fd4-7367-4ab4-a936-5eeb8fb821c4/v1/chat/completions |
| -------- | ------------------------------------------------------------ |
| 模型名称 | DeepSeek-R1                                                  |

## 步骤一: 获取API Key

在调用MaaS的模型服务时，需要填写API Key用于接口的鉴权认证。请创建新的API Key或使用已有API Key，前往[ API Key管理 ](https://console.huaweicloud.com/modelarts/?locale=zh-cn&region=cn-southwest-2#/model-studio/authmanage)

步骤二: 复制调用示例并替换接口信息、API Key

复制下方调用示例代码

创建后的key

HGZrEhZx6uQcUQQFOeNWUON_2mEjNeRYWnjUHfhT72ORyMvV9jPCaGyjqiaabB9ZpT3P8h58i1UqL9lCzHvoRg



替换其中的接口信息（API地址、模型名称）为上方接口信息



这里给我们的返回来的数据。



```
# coding=utf-8

import requests
import json

if __name__ == '__main__':
    url = "https://maas-cn-southwest-2.modelarts-maas.com/v1/infers/8a062fd4-7367-4ab4-a936-5eeb8fb821c4/v1/chat/completions" # API地址
    api_key = "HGZrEhZx6uQcUQQFOeNWUON_2mEjNeRYWnjUHfhT72ORyMvV9jPCaGyjqiaabB9ZpT3P8h58i1UqL9lCzHvoRg"  # 把yourApiKey替换成已获取的API Key 
    
    # Send request.
    headers = {
        'Content-Type': 'application/json',
        'Authorization': f'Bearer {api_key}' 
    }
    data = {
        "model":"DeepSeek-R1", # 模型名称
        "messages": [
            {"role": "system", "content": "You are a helpful assistant."},
            {"role": "user", "content": "你好"}
        ],
        # 是否开启流式推理, 默认为False, 表示不开启流式推理
        "stream": True,
        # 在流式输出时是否展示使用的token数目。只有当stream为True时改参数才会生效。
        # "stream_options": { "include_usage": True },
        # 控制采样随机性的浮点数，值较低时模型更具确定性，值较高时模型更具创造性。"0"表示贪婪取样。默认为0.6。
        "temperature": 0.6
    }
    response = requests.post(url, headers=headers, data=json.dumps(data), verify=False)

    # Print result.
    print(response.status_code)
    print(response.text)

```



加下来我们在鸿蒙里实现网络请求。



具体的需求为：

使用ArkTS实现一个聊天对话功能的页面，可以实现输入文本后，发起网络请求，连续提问

请求的接口为：

```js
# coding=utf-8

import requests
import json

if __name__ == '__main__':
    url = "https://maas-cn-southwest-2.modelarts-maas.com/v1/infers/8a062fd4-7367-4ab4-a936-5eeb8fb821c4/v1/chat/completions" # API地址
    api_key = "HGZrEhZx6uQcUQQFOeNWUON_2mEjNeRYWnjUHfhT72ORyMvV9jPCaGyjqiaabB9ZpT3P8h58i1UqL9lCzHvoRg"  # 把yourApiKey替换成已获取的API Key 
    
    # Send request.
    headers = {
        'Content-Type': 'application/json',
        'Authorization': 'Bearer {api_key}' 
    }
    data = {
        "model":"DeepSeek-R1", # 模型名称
        "messages": [
            {"role": "system", "content": "You are a helpful assistant."},
            {"role": "user", "content": "你好"}
        ],
        # 是否开启流式推理, 默认为False, 表示不开启流式推理
        "stream": True,
        # 在流式输出时是否展示使用的token数目。只有当stream为True时改参数才会生效。
        # "stream_options": { "include_usage": True },
        # 控制采样随机性的浮点数，值较低时模型更具确定性，值较高时模型更具创造性。"0"表示贪婪取样。默认为0.6。
        "temperature": 0.6
    }
    response = requests.post(url, headers=headers, data=json.dumps(data), verify=False)

    # Print result.
    print(response.status_code)
    print(response.text)

```



## ArkTS中如何过滤某个字符串

在 ArkTS中，可以使用字符串的 `replace()` 方法或正则表达式来过滤字符串。

例如，如果要过滤掉字符串中的某个特定子字符串，可以使用 `replace()` 方法：

```typescript
let str = "Hello, world!";
let filteredStr = str.replace("world", ""); // 结果为 "Hello, !"
```

如果要过滤掉字符串中的所有特定字符，可以使用正则表达式：

```typescript
let str = "Hello, world!";
let filteredStr = str.replace(/l/g, ""); // 结果为 "Heo, word!"
```

其中，`/l/g` 是一个正则表达式，表示匹配所有的 "l" 字符。

如果要过滤掉字符串中的某些字符，可以使用正则表达式中的字符集：

```typescript
let str = "Hello, world!";
let filteredStr = str.replace(/[lo]/g, ""); // 结果为 "He, wrd!"
```

其中，`/[lo]/g` 是一个正则表达式，表示匹配所有的 "l" 或 "o" 字符。

还可以使用 `split()` 方法和 `filter()` 方法来过滤字符串：

```typescript
let str = "Hello, world!";
let filteredStr = str.split("").filter(char => char !== "l").join(""); // 结果为 "Heo, word!"
```

这些方法都可以用于过滤字符串，具体选择哪种方法取决于你的需求。

