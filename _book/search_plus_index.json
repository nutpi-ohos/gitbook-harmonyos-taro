{"./":{"url":"./","title":"å‰è¨€","keywords":"","body":"å‰è¨€ éšç€é¸¿è’™ç”Ÿæ€çš„å¿«é€Ÿå‘å±•ï¼ŒTaro ä½œä¸ºä¸€ä¸ªå¤šç«¯ç»Ÿä¸€å¼€å‘æ¡†æž¶ï¼Œå·²ç»æ”¯æŒç¼–è¯‘åˆ°é¸¿è’™å¹³å°ã€‚ä¸ºäº†å¸®åŠ©å¼€å‘è€…æ›´å¥½åœ°æŽŒæ¡ Taro For Harmony çš„å¼€å‘æŠ€èƒ½ï¼Œæˆ‘ä»¬é›†åˆåšæžœæ´¾çš„åŠ›é‡ï¼Œåˆ©ç”¨ä¸šä½™æ—¶é—´ç¼–å†™äº†è¿™æœ¬ã€ŠTaro For Harmony å¼€å‘æŒ‡å—ã€‹ï¼Œå¸Œæœ›èƒ½ä¸ºé¸¿è’™ç”Ÿæ€çš„å‘å±•è´¡çŒ®ä¸€ä»½åŠ›é‡ã€‚ æœ¬ä¹¦ç»„ç»‡ç»“æž„ æœ¬ä¹¦ä»¥å¾ªåºæ¸è¿›çš„æ–¹å¼ï¼Œä»Ž Taro åŸºç¡€çŸ¥è¯†å…¥æ‰‹ï¼Œåˆ°é¸¿è’™å¹³å°çš„å®žé™…åº”ç”¨ï¼Œå†…å®¹ç»„ç»‡å¦‚ä¸‹ï¼š ç¬¬ä¸€ç¯‡ï¼šåŸºç¡€ç¯‡ï¼Œä»‹ç» Taro æ¡†æž¶çš„åŸºæœ¬æ¦‚å¿µã€å®‰è£…é…ç½®ã€å¤šå¹³å°è¿è¡Œç­‰åŸºç¡€çŸ¥è¯†ï¼Œå¸®åŠ©è¯»è€…å¿«é€Ÿä¸Šæ‰‹ã€‚ ç¬¬äºŒç¯‡ï¼šé¸¿è’™ç¯‡ï¼Œé‡ç‚¹è®²è§£ Taro åœ¨é¸¿è’™å¹³å°çš„å¼€å‘çŽ¯å¢ƒæ­å»ºã€ç¼–è¯‘é…ç½®ã€ç»„ä»¶é€‚é…ç­‰æ ¸å¿ƒå†…å®¹ã€‚ ç¬¬ä¸‰ç¯‡ï¼šè¿›é˜¶ç¯‡ï¼Œæ·±å…¥æŽ¢è®¨ Taro çš„é«˜çº§ç‰¹æ€§ã€æ€§èƒ½ä¼˜åŒ–ã€è°ƒè¯•æŠ€å·§ç­‰è¿›é˜¶å†…å®¹ã€‚ ç¬¬å››ç¯‡ï¼šå®žæˆ˜ç¯‡ï¼Œé€šè¿‡å®žé™…é¡¹ç›®æ¡ˆä¾‹ï¼Œå±•ç¤º Taro For Harmony çš„å®Œæ•´å¼€å‘æµç¨‹å’Œæœ€ä½³å®žè·µã€‚ ç¬¬äº”ç¯‡ï¼šç”Ÿæ€ç¯‡ï¼Œä»‹ç»é¸¿è’™ç”Ÿæ€ç›¸å…³çš„æŠ€æœ¯æ ˆã€å·¥å…·é“¾å’Œå‘å±•è¶‹åŠ¿ã€‚ æœ¬ä¹¦è¯»è€…å¯¹è±¡ å…·å¤‡ JavaScript/TypeScript åŸºç¡€ï¼Œäº†è§£ React æˆ– Vue ç­‰å‰ç«¯æ¡†æž¶çš„å¼€å‘è€… æœ‰ç§»åŠ¨ç«¯å¼€å‘ç»éªŒï¼Œå¸Œæœ›å­¦ä¹ å¤šç«¯ç»Ÿä¸€å¼€å‘çš„å¼€å‘è€… å¯¹é¸¿è’™ç”Ÿæ€æ„Ÿå…´è¶£ï¼Œæƒ³è¦æŽŒæ¡ Taro For Harmony å¼€å‘çš„æŠ€æœ¯äººå‘˜ æœ¬ä¹¦é€‚åˆæœ‰ä¸€å®šç¼–ç¨‹åŸºç¡€çš„è¯»è€…ï¼Œä¸é€‚åˆå®Œå…¨é›¶åŸºç¡€çš„åˆå­¦è€… ç‰ˆæœ¬è¯´æ˜Žä¸Žå‹˜è¯¯ æœ¬ä¹¦åŸºäºŽ Taro æœ€æ–°ç‰ˆæœ¬ç¼–å†™ï¼Œæ¶µç›–é¸¿è’™ NEXT ç‰ˆæœ¬çš„ç›¸å…³å†…å®¹ã€‚ç”±äºŽ Taro å’Œé¸¿è’™ç”Ÿæ€éƒ½åœ¨å¿«é€Ÿå‘å±•ä¸­ï¼Œéƒ¨åˆ†å†…å®¹å¯èƒ½ä¼šéšç‰ˆæœ¬æ›´æ–°è€Œå˜åŒ–ï¼Œè¯·è¯»è€…ä»¥å®˜æ–¹æœ€æ–°æ–‡æ¡£ä¸ºå‡†ã€‚ å¦‚æžœæ‚¨åœ¨é˜…è¯»è¿‡ç¨‹ä¸­å‘çŽ°ä»»ä½•é”™è¯¯æˆ–æœ‰æ”¹è¿›å»ºè®®ï¼Œæ¬¢è¿Žé€šè¿‡ä»¥ä¸‹æ–¹å¼åé¦ˆï¼š åœ¨é¡¹ç›®ä»“åº“æäº¤ Issue åŠ å…¥æŠ€æœ¯äº¤æµç¾¤ï¼š695438501 æˆ‘ä»¬ä¼šåŠæ—¶å¤„ç†æ‚¨çš„åé¦ˆï¼Œä¸æ–­å®Œå–„æœ¬ä¹¦å†…å®¹ã€‚ è‡´è°¢ æœ¬ä¹¦çš„ç¼–å†™è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¸»è¦å‚è€ƒäº† Taro å®˜æ–¹æ–‡æ¡£ã€é¸¿è’™å¼€å‘è€…æ–‡æ¡£ä»¥åŠç›¸å…³å¼€æºé¡¹ç›®ã€‚æ„Ÿè°¢ Taro å›¢é˜Ÿå’Œé¸¿è’™ç”Ÿæ€çš„å¼€å‘è€…ä»¬æä¾›çš„ä¼˜ç§€æŠ€æœ¯æ–¹æ¡ˆå’Œè¯¦ç»†æ–‡æ¡£ã€‚ ç‰¹åˆ«æ„Ÿè°¢ï¼š Taro å¼€å‘å›¢é˜Ÿæä¾›çš„å¤šç«¯ç»Ÿä¸€å¼€å‘æ¡†æž¶ é¸¿è’™ç”Ÿæ€çš„æŠ€æœ¯ä¸“å®¶ä»¬çš„è€å¿ƒè§£ç­” åšæžœæ´¾ç¤¾åŒºæˆå‘˜çš„ç§¯æžå‚ä¸Žå’Œåé¦ˆ æ‰€æœ‰ä¸ºé¸¿è’™ç”Ÿæ€å»ºè®¾è´¡çŒ®åŠ›é‡çš„å¼€å‘è€…ä»¬ è®©æˆ‘ä»¬ä¸€èµ·æŽ¨åŠ¨é¸¿è’™ç”Ÿæ€çš„ç¹è£å‘å±•ï¼ powered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2025-06-29 08:51:31 console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"ä¸ºä»€ä¹ˆè¦å†™åšå®¢.html":{"url":"ä¸ºä»€ä¹ˆè¦å†™åšå®¢.html","title":"ä¸ºä»€ä¹ˆé€‰æ‹© Taro For Harmonyï¼Ÿ","keywords":"","body":"ä¸ºä»€ä¹ˆé€‰æ‹© Taro For Harmonyï¼Ÿ å¤šç«¯ç»Ÿä¸€å¼€å‘çš„éœ€æ±‚ åœ¨ç§»åŠ¨äº’è”ç½‘å¿«é€Ÿå‘å±•çš„ä»Šå¤©ï¼Œå¼€å‘è€…é¢ä¸´ç€å¤šå¹³å°é€‚é…çš„æŒ‘æˆ˜ã€‚ä¼ ç»Ÿçš„å¼€å‘æ¨¡å¼éœ€è¦ä¸ºä¸åŒå¹³å°ç¼–å†™ä¸åŒçš„ä»£ç ï¼Œè¿™ä¸ä»…å¢žåŠ äº†å¼€å‘æˆæœ¬ï¼Œä¹Ÿæé«˜äº†ç»´æŠ¤éš¾åº¦ã€‚éšç€é¸¿è’™ç”Ÿæ€çš„å´›èµ·ï¼Œå¼€å‘è€…åˆå¤šäº†ä¸€ä¸ªéœ€è¦é€‚é…çš„å¹³å°ã€‚ Taro çš„ä¼˜åŠ¿ 1. ä¸€å¥—ä»£ç ï¼Œå¤šç«¯è¿è¡Œ Taro æœ€å¤§çš„ä¼˜åŠ¿åœ¨äºŽèƒ½å¤Ÿç”¨ä¸€å¥—ä»£ç åŒæ—¶é€‚é…å¤šä¸ªå¹³å°ï¼š å¾®ä¿¡å°ç¨‹åº æ”¯ä»˜å®å°ç¨‹åº ç™¾åº¦å°ç¨‹åº å­—èŠ‚è·³åŠ¨å°ç¨‹åº QQ å°ç¨‹åº H5 React Native é¸¿è’™ HarmonyOS 2. åŸºäºŽ React è¯­æ³• Taro é‡‡ç”¨ React è¯­æ³•ï¼Œå¯¹äºŽç†Ÿæ‚‰ React çš„å¼€å‘è€…æ¥è¯´å­¦ä¹ æˆæœ¬æžä½Žã€‚åŒæ—¶æ”¯æŒï¼š JSX è¯­æ³• React Hooks ç»„ä»¶åŒ–å¼€å‘ TypeScript æ”¯æŒ 3. å®Œå–„çš„ç”Ÿæ€ç³»ç»Ÿ ä¸°å¯Œçš„ç»„ä»¶åº“ æ´»è·ƒçš„ç¤¾åŒºæ”¯æŒ å®Œå–„çš„å¼€å‘å·¥å…·é“¾ è¯¦ç»†çš„å®˜æ–¹æ–‡æ¡£ é¸¿è’™ç”Ÿæ€çš„æœºé‡ 1. æ”¿ç­–æ”¯æŒ éšç€å›½äº§åŒ–è¿›ç¨‹çš„æŽ¨è¿›ï¼Œé¸¿è’™ç³»ç»Ÿå¾—åˆ°äº†æ”¿ç­–å±‚é¢çš„å¤§åŠ›æ”¯æŒï¼Œæœªæ¥åœ¨æ”¿ä¼å¸‚åœºå°†æœ‰å¹¿é˜”çš„åº”ç”¨å‰æ™¯ã€‚ 2. æŠ€æœ¯åˆ›æ–° é¸¿è’™ç³»ç»Ÿåœ¨åˆ†å¸ƒå¼æž¶æž„ã€ä¸‡ç‰©äº’è”ç­‰æ–¹é¢å…·æœ‰æŠ€æœ¯ä¼˜åŠ¿ï¼Œä¸ºå¼€å‘è€…æä¾›äº†æ–°çš„æŠ€æœ¯æŽ¢ç´¢ç©ºé—´ã€‚ 3. å¸‚åœºæœºä¼š ä½œä¸ºæ–°å…´ç”Ÿæ€ï¼Œé¸¿è’™å¹³å°ä¸ºå¼€å‘è€…æä¾›äº†æŠ¢å å…ˆæœºçš„æœºä¼šï¼Œæ—©æœŸè¿›å…¥è€…å°†èŽ·å¾—æ›´å¤šçš„æµé‡çº¢åˆ©ã€‚ Taro For Harmony çš„ä»·å€¼ 1. é™ä½Žå¼€å‘æˆæœ¬ é€šè¿‡ Taroï¼Œå¼€å‘è€…å¯ä»¥ç”¨ä¸€å¥—ä»£ç åŒæ—¶è¦†ç›–ä¼ ç»Ÿå¹³å°å’Œé¸¿è’™å¹³å°ï¼Œå¤§å¤§é™ä½Žäº†å¼€å‘å’Œç»´æŠ¤æˆæœ¬ã€‚ 2. åŠ é€Ÿäº§å“ä¸Šçº¿ æ— éœ€é‡æ–°å¼€å‘ï¼ŒçŽ°æœ‰çš„ Taro é¡¹ç›®å¯ä»¥å¿«é€Ÿé€‚é…åˆ°é¸¿è’™å¹³å°ï¼ŒåŠ é€Ÿäº§å“åœ¨æ–°å¹³å°çš„ä¸Šçº¿é€Ÿåº¦ã€‚ 3. æŠ€èƒ½å¤ç”¨ å¼€å‘è€…æ— éœ€å­¦ä¹ å…¨æ–°çš„æŠ€æœ¯æ ˆï¼Œå¯ä»¥å……åˆ†åˆ©ç”¨çŽ°æœ‰çš„ React/Taro å¼€å‘ç»éªŒã€‚ å­¦ä¹ æœ¬ä¹¦çš„æ”¶ç›Š é€šè¿‡å­¦ä¹ æœ¬ä¹¦ï¼Œæ‚¨å°†èŽ·å¾—ï¼š å…¨é¢æŽŒæ¡ Taro For Harmony çš„å¼€å‘æŠ€èƒ½ æ·±å…¥ç†è§£ é¸¿è’™å¹³å°çš„ç‰¹æ€§å’Œå¼€å‘è¦ç‚¹ å®žæˆ˜ç»éªŒ é€šè¿‡é¡¹ç›®æ¡ˆä¾‹èŽ·å¾—å®žé™…å¼€å‘ç»éªŒ å‰çž»è§†é‡Ž äº†è§£å¤šç«¯å¼€å‘çš„æœ€æ–°è¶‹åŠ¿å’Œæœ€ä½³å®žè·µ è®©æˆ‘ä»¬ä¸€èµ·è¸ä¸Š Taro For Harmony çš„å­¦ä¹ ä¹‹æ—…ï¼ŒæŠ“ä½é¸¿è’™ç”Ÿæ€å‘å±•çš„åŽ†å²æœºé‡ï¼ powered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2025-06-29 08:53:09 console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"chapter1/1.Taroä»‹ç».html":{"url":"chapter1/1.Taroä»‹ç».html","title":"3.1 Taro æ¡†æž¶ä»‹ç»","keywords":"","body":"é¸¿è’™ç‰ˆTaroæ¸è¿›å¼å…¥é—¨æ•™ç¨‹ Taro ä»‹ç» Taro æ˜¯ç”±äº¬ä¸œå‘èµ·å¹¶ç»´æŠ¤çš„å¼€æ”¾å¼è·¨ç«¯è·¨æ¡†æž¶è§£å†³æ–¹æ¡ˆï¼Œæ”¯æŒä»¥ Web çš„å¼€å‘èŒƒå¼æ¥å®žçŽ°å°ç¨‹åºã€H5ã€åŽŸç”Ÿ APP çš„è·¨ç«¯ç»Ÿä¸€å¼€å‘ï¼Œä»Ž 18 å¹´å¼€æºè‡³ä»Šï¼Œåœ¨ GitHub å·²ç´¯è®¡èŽ·å¾— 36,000+ Starsã€‚ çŽ¯å¢ƒå‡†å¤‡ ç›®å‰ Taro ä»…æä¾›ä¸€ç§å¼€å‘æ–¹å¼ï¼šå®‰è£… Taro å‘½ä»¤è¡Œå·¥å…·ï¼ˆTaro CLIï¼‰è¿›è¡Œå¼€å‘ã€‚ Taro CLI ä¾èµ–äºŽ Node.js çŽ¯å¢ƒï¼Œæ‰€ä»¥åœ¨ä½ çš„æœºå™¨ä¸Šå¿…é¡»å®‰è£… Node.js çŽ¯å¢ƒã€‚å®‰è£… Node.js çŽ¯å¢ƒæœ‰å¾ˆå¤šç§æ–¹æ³•ï¼Œå¦‚æžœä½ å®Œå…¨ä¸äº†è§£ Node.js å¯ä»¥è®¿é—® Node.js å®˜ç½‘ ä¸‹è½½ä¸€ä¸ªå¯æ‰§è¡Œç¨‹åºè¿›è¡Œå®‰è£…ã€‚è¯·ç¡®ä¿å·²å…·å¤‡è¾ƒæ–°çš„ node çŽ¯å¢ƒï¼ˆ>=16.20.0ï¼‰ã€‚ å½“ä½ çš„æœºå™¨å·²ç»å­˜åœ¨äº† Node.js çŽ¯å¢ƒï¼Œå¯ä»¥é€šè¿‡åœ¨ç»ˆç«¯è¾“å…¥å‘½ä»¤ npm i -g @tarojs/cli å®‰è£… Taro CLIã€‚å®‰è£…å®Œæ¯•ä¹‹åŽï¼Œåœ¨ç»ˆç«¯è¾“å…¥å‘½ä»¤ taroï¼Œå¦‚æžœå‡ºçŽ°ç±»ä¼¼å†…å®¹å°±è¯´æ˜Žå®‰è£…æˆåŠŸäº†ï¼š jianguo@nutpi fvmdemo % taro --version ðŸ‘½ Taro v4.1.1 4.1.1 ç¼–è¾‘å™¨ æŽ¨èä½¿ç”¨ VSCode å½“ä½ ä½¿ç”¨ VSCode æ—¶ï¼ŒæŽ¨èå®‰è£… ESLint æ’ä»¶ï¼Œå¦‚æžœä½ ä½¿ç”¨ TypeScriptï¼Œåˆ«å¿˜äº†é…ç½® eslint.probe å‚æ•°ã€‚å¦‚æžœä½¿ç”¨ Vueï¼ŒæŽ¨èå®‰è£… Vetur æ’ä»¶ã€‚å®‰è£…äº†ä¸Šè¿°æ’ä»¶ä¹‹åŽä½¿ç”¨ Taro éƒ½å®žçŽ°è‡ªåŠ¨è¡¥å…¨å’Œä»£ç å®žæ—¶æ£€æŸ¥ï¼ˆlintingï¼‰çš„åŠŸèƒ½ã€‚ ç»ˆç«¯ macOS/Linux åœ¨ *nix ç³»ç»Ÿä¸­ç»ˆç«¯æ¨¡æ‹Ÿå™¨ä½¿ç”¨ä»€ä¹ˆå·¥å…·ï¼ˆTerminal/iTerm2/Konsole/Hyper/etc..ï¼‰å¹¶ä¸é‡è¦ï¼Œä½†è¿è¡Œ Taro CLI çš„ shell æˆ‘ä»¬æŽ¨èä½¿ç”¨ bash æˆ– zshã€‚ Windows åœ¨ Windows ä¸­æˆ‘ä»¬æŽ¨èä½¿ç”¨å†…ç½®çš„ cmd æˆ– PowerShellã€‚å¦‚æžœæœ‰æ¡ä»¶æŽ¨èå®‰è£… WSL å¹¶ä½¿ç”¨ Linux åˆ†å‘ç‰ˆçš„ç»ˆç«¯è¿è¡Œ Taro CLIã€‚ç”±äºŽ Taro çš„å¼€å‘å›¢é˜Ÿå’Œ CI éƒ½åªè¿è¡Œæˆ–æµ‹è¯• *nix ç³»ç»Ÿï¼Œéƒ¨åˆ† Windows æžç«¯æƒ…å†µæˆ–è®¸æ²¡èƒ½è€ƒè™‘åˆ°ï¼Œå¯¼è‡´å‡ºçŽ° Bugã€‚ åŸºç¡€æ•™ç¨‹ å®‰è£…å¥½ Taro CLI ä¹‹åŽå¯ä»¥é€šè¿‡ taro init å‘½ä»¤åˆ›å»ºä¸€ä¸ªå…¨æ–°çš„é¡¹ç›®ï¼Œä½ å¯ä»¥æ ¹æ®ä½ çš„é¡¹ç›®éœ€æ±‚å¡«å†™å„ä¸ªé€‰é¡¹ï¼Œä¸€ä¸ªæœ€å°ç‰ˆæœ¬çš„ Taro é¡¹ç›®ä¼šåŒ…æ‹¬ä»¥ä¸‹æ–‡ä»¶ï¼š â”œâ”€â”€ babel.config.js # Babel é…ç½® â”œâ”€â”€ .eslintrc.js # ESLint é…ç½® â”œâ”€â”€ config # ç¼–è¯‘é…ç½®ç›®å½• â”‚ â”œâ”€â”€ dev.js # å¼€å‘æ¨¡å¼é…ç½® â”‚ â”œâ”€â”€ index.js # é»˜è®¤é…ç½® â”‚ â””â”€â”€ prod.js # ç”Ÿäº§æ¨¡å¼é…ç½® â”œâ”€â”€ package.json # Node.js manifest â”œâ”€â”€ dist # æ‰“åŒ…ç›®å½• â”œâ”€â”€ project.config.json # å°ç¨‹åºé¡¹ç›®é…ç½® â”œâ”€â”€ src # æºç ç›®å½• â”‚ â”œâ”€â”€ app.config.js # å…¨å±€é…ç½® â”‚ â”œâ”€â”€ app.css # å…¨å±€ CSS â”‚ â”œâ”€â”€ app.js # å…¥å£ç»„ä»¶ â”‚ â”œâ”€â”€ index.html # H5 å…¥å£ HTML â”‚ â””â”€â”€ pages # é¡µé¢ç»„ä»¶ â”‚ â””â”€â”€ index â”‚ â”œâ”€â”€ index.config.js # é¡µé¢é…ç½® â”‚ â”œâ”€â”€ index.css # é¡µé¢ CSS â”‚ â””â”€â”€ index.jsx # é¡µé¢ç»„ä»¶ï¼Œå¦‚æžœæ˜¯ Vue é¡¹ç›®ï¼Œæ­¤æ–‡ä»¶ä¸º index.vue æˆ‘ä»¬ä»¥åŽå°†ä¼šè®²è§£æ¯ä¸€ä¸ªæ–‡ä»¶çš„ä½œç”¨ï¼Œä½†çŽ°åœ¨ï¼Œæˆ‘ä»¬å…ˆæŠŠæ³¨æ„åŠ›èšç„¦åœ¨ src æ–‡ä»¶å¤¹ï¼Œä¹Ÿå°±æ˜¯æºç ç›®å½•ï¼š å…¥å£ç»„ä»¶ æ¯ä¸€ä¸ª Taro é¡¹ç›®éƒ½æœ‰ä¸€ä¸ªå…¥å£ç»„ä»¶å’Œä¸€ä¸ªå…¥å£é…ç½®ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å…¥å£ç»„ä»¶ä¸­è®¾ç½®å…¨å±€çŠ¶æ€/å…¨å±€ç”Ÿå‘½å‘¨æœŸï¼Œä¸€ä¸ªæœ€å°åŒ–çš„å…¥å£ç»„ä»¶ä¼šæ˜¯è¿™æ ·ï¼š src/app.js import React, { Component } from 'react' import './app.css' class App extends Component { render() { // this.props.children æ˜¯å°†è¦ä¼šæ¸²æŸ“çš„é¡µé¢ return this.props.children } } // æ¯ä¸€ä¸ªå…¥å£ç»„ä»¶éƒ½å¿…é¡»å¯¼å‡ºä¸€ä¸ª React ç»„ä»¶ export default App æ¯ä¸€ä¸ªå…¥å£ç»„ä»¶ï¼ˆä¾‹å¦‚ app.jsï¼‰æ€»æ˜¯ä¼´éšä¸€ä¸ªå…¨å±€é…ç½®æ–‡ä»¶ï¼ˆä¾‹å¦‚ app.config.jsï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å…¨å±€é…ç½®æ–‡ä»¶ä¸­è®¾ç½®é¡µé¢ç»„ä»¶çš„è·¯å¾„ã€å…¨å±€çª—å£ã€è·¯ç”±ç­‰ä¿¡æ¯ï¼Œä¸€ä¸ªæœ€ç®€å•çš„å…¨å±€é…ç½®å¦‚ä¸‹ï¼š src/app.config.js export default { pages: ['pages/index/index'], } æ³¨æ„æˆ‘ä»¬å¿…é¡»ä¿è¯é…ç½®æ–‡ä»¶æ˜¯åœ¨ Node.js çŽ¯å¢ƒä¸­æ˜¯å¯ä»¥æ‰§è¡Œçš„ï¼Œä¸èƒ½ä½¿ç”¨ä¸€äº›åœ¨ H5 çŽ¯å¢ƒæˆ–å°ç¨‹åºçŽ¯å¢ƒæ‰èƒ½è¿è¡Œçš„åŒ…æˆ–è€…ä»£ç ï¼Œå¦åˆ™ç¼–è¯‘å°†ä¼šå¤±è´¥ é¡µé¢ç»„ä»¶ é¡µé¢ç»„ä»¶æ˜¯æ¯ä¸€é¡¹è·¯ç”±å°†ä¼šæ¸²æŸ“çš„é¡µé¢ï¼ŒTaro çš„é¡µé¢é»˜è®¤æ”¾åœ¨ src/pages ä¸­ï¼Œæ¯ä¸€ä¸ª Taro é¡¹ç›®è‡³å°‘æœ‰ä¸€ä¸ªé¡µé¢ç»„ä»¶ã€‚åœ¨æˆ‘ä»¬ç”Ÿæˆçš„é¡¹ç›®ä¸­æœ‰ä¸€ä¸ªé¡µé¢ç»„ä»¶ï¼šsrc/pages/index/indexï¼Œç»†å¿ƒçš„æœ‹å‹å¯ä»¥å‘çŽ°ï¼Œè¿™ä¸ªè·¯å¾„æ°å·§å¯¹åº”çš„å°±æ˜¯æˆ‘ä»¬å…¨å±€é…ç½®çš„ pages å­—æ®µå½“ä¸­çš„å€¼ã€‚ä¸€ä¸ªç®€å•çš„é¡µé¢ç»„ä»¶å¦‚ä¸‹ src/pages/index/index.jsx import { View } from '@tarojs/components' class Index extends Component { state = { msg: 'Hello World!', } onReady() { console.log('onReady') } render() { return {this.state.msg} } } export default Index onReady ç”Ÿå‘½å‘¨æœŸå‡½æ•°ã€‚è¿™æ˜¯æ¥æºäºŽå¾®ä¿¡å°ç¨‹åºè§„èŒƒçš„ç”Ÿå‘½å‘¨æœŸï¼Œè¡¨ç¤ºç»„ä»¶é¦–æ¬¡æ¸²æŸ“å®Œæ¯•ï¼Œå‡†å¤‡å¥½ä¸Žè§†å›¾äº¤äº’ã€‚Taro åœ¨è¿è¡Œæ—¶å°†å¤§éƒ¨åˆ†å°ç¨‹åºè§„èŒƒé¡µé¢ç”Ÿå‘½å‘¨æœŸæ³¨å…¥åˆ°äº†é¡µé¢ç»„ä»¶ä¸­ï¼ŒåŒæ—¶ React æˆ– Vue è‡ªå¸¦çš„ç”Ÿå‘½å‘¨æœŸä¹Ÿæ˜¯å®Œå…¨å¯ä»¥æ­£å¸¸ä½¿ç”¨çš„ã€‚ View ç»„ä»¶ã€‚è¿™æ˜¯æ¥æºäºŽ @tarojs/components çš„è·¨å¹³å°ç»„ä»¶ã€‚ç›¸å¯¹äºŽæˆ‘ä»¬ç†Ÿæ‚‰çš„ divã€span å…ƒç´ è€Œè¨€ï¼Œåœ¨ Taro ä¸­æˆ‘ä»¬è¦å…¨éƒ¨ä½¿ç”¨è¿™æ ·çš„è·¨å¹³å°ç»„ä»¶è¿›è¡Œå¼€å‘ã€‚ å’Œå…¥å£ç»„ä»¶ä¸€æ ·ï¼Œæ¯ä¸€ä¸ªé¡µé¢ç»„ä»¶ï¼ˆä¾‹å¦‚ index.vueï¼‰ä¹Ÿä¼šæœ‰ä¸€ä¸ªé¡µé¢é…ç½®ï¼ˆä¾‹å¦‚ index.config.jsï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨é¡µé¢é…ç½®æ–‡ä»¶ä¸­è®¾ç½®é¡µé¢çš„å¯¼èˆªæ ã€èƒŒæ™¯é¢œè‰²ç­‰å‚æ•°ï¼Œä¸€ä¸ªæœ€ç®€å•çš„é¡µé¢é…ç½®å¦‚ä¸‹ï¼š src/pages/index/index.config.js export default { navigationBarTitleText: 'é¦–é¡µ', } Taro çš„é¡µé¢é’©å­å‡½æ•°å’Œé¡µé¢é…ç½®è§„èŒƒæ˜¯åŸºäºŽå¾®ä¿¡å°ç¨‹åºè€Œåˆ¶å®šçš„ï¼Œå¹¶å¯¹å…¨å¹³å°è¿›è¡Œç»Ÿä¸€ã€‚ ä½ å¯ä»¥é€šè¿‡è®¿é—® React é¡µé¢ç»„ä»¶ äº†è§£å…¨éƒ¨é¡µé¢é’©å­å‡½æ•°å’Œé¡µé¢é…ç½®è§„èŒƒã€‚ è‡ªå®šä¹‰ç»„ä»¶ å¦‚æžœä½ çœ‹åˆ°è¿™é‡Œï¼Œé‚£ä¸å¾—ä¸æ­å–œä½ ï¼Œä½ å·²ç»ç†è§£äº† Taro ä¸­æœ€å¤æ‚çš„æ¦‚å¿µï¼šå…¥å£ç»„ä»¶å’Œé¡µé¢ç»„ä»¶ï¼Œå¹¶äº†è§£äº†å®ƒä»¬æ˜¯å¦‚ä½•ï¼ˆé€šè¿‡é…ç½®æ–‡ä»¶ï¼‰äº¤äº’çš„ã€‚æŽ¥ä¸‹æ¥çš„å†…å®¹ï¼Œ æˆ‘ä»¬å…ˆæŠŠé¦–é¡µå†™å¥½ï¼Œé¦–é¡µçš„é€»è¾‘å¾ˆç®€å•ï¼šæŠŠè®ºå›æœ€æ–°çš„å¸–å­å±•ç¤ºå‡ºæ¥ã€‚ src/pages/index/index.jsx import Taro from '@tarojs/taro' import React from 'react' import { View } from '@tarojs/components' import { ThreadList } from '../../components/thread_list' import api from '../../utils/api' import './index.css' class Index extends React.Component { config = { navigationBarTitleText: 'é¦–é¡µ', } state = { loading: true, threads: [], } async componentDidMount() { try { const res = await Taro.request({ url: api.getLatestTopic(), }) this.setState({ threads: res.data, loading: false, }) } catch (error) { Taro.showToast({ title: 'è½½å…¥è¿œç¨‹æ•°æ®é”™è¯¯', }) } } render() { const { loading, threads } = this.state return ( ) } } export default Index å¯èƒ½ä½ ä¼šæ³¨æ„åˆ°åœ¨ä¸€ä¸ª Taro åº”ç”¨ä¸­å‘é€è¯·æ±‚æ˜¯ Taro.request() å®Œæˆçš„ã€‚ å’Œé¡µé¢é…ç½®ã€å…¨å±€é…ç½®ä¸€æ ·ï¼ŒTaro çš„ API è§„èŒƒä¹Ÿæ˜¯åŸºäºŽå¾®ä¿¡å°ç¨‹åºè€Œåˆ¶å®šçš„ï¼Œå¹¶å¯¹å…¨å¹³å°è¿›è¡Œç»Ÿä¸€ã€‚ ä½ å¯ä»¥é€šè¿‡åœ¨ API æ–‡æ¡£ æ‰¾åˆ°æ‰€æœ‰ APIã€‚ åœ¨æˆ‘ä»¬çš„é¦–é¡µç»„ä»¶é‡Œï¼Œè¿˜å¼•ç”¨äº†ä¸€ä¸ª ThreadList ç»„ä»¶ï¼Œæˆ‘ä»¬çŽ°åœ¨æ¥å®žçŽ°å®ƒï¼š src/components/thread_list.jsx import React from 'react' import { View, Text } from '@tarojs/components' import { Thread } from './thread' import { Loading } from './loading' import './thread.css' class ThreadList extends React.Component { static defaultProps = { threads: [], loading: true, } render() { const { loading, threads } = this.props if (loading) { return } const element = threads.map((thread, index) => { return ( ) }) return {element} } } export { ThreadList } å‚è€ƒ https://docs.taro.zone/docs/guide#%E5%A4%9A%E7%AB%AF%E5%BC%80%E5%8F%91 powered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2025-05-24 10:46:58 console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"chapter1/2.å®‰è£…Taro.html":{"url":"chapter1/2.å®‰è£…Taro.html","title":"3.2 å®‰è£…ä¸Žé…ç½® Taro","keywords":"","body":"é¸¿è’™ ç‰ˆTaro å®žæˆ˜ï¼šæ­å»ºå¼€å‘çŽ¯å¢ƒ ä¸€ã€é…ç½®é¸¿è’™çŽ¯å¢ƒ ä¸‹è½½å®‰è£… DevEco å»ºè®®ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„ IDEï¼Œå½“å‰ä¸º 5.0.5Release ç‰ˆæœ¬ã€‚ äºŒã€åˆ›å»ºé¸¿è’™é¡¹ç›® æ‰“å¼€ DevEcoï¼Œç‚¹å‡»å³ä¸Šè§’çš„ Create Projectï¼Œåœ¨ Application å¤„é€‰æ‹© Empty Abilityï¼Œç‚¹å‡» Nextï¼Œè¿›å…¥é…ç½®é¡µé¢ï¼Œæ ¹æ®éœ€æ±‚è°ƒæ•´å†…å®¹ï¼Œè¿™é‡Œä½¿ç”¨é»˜è®¤é…ç½®ï¼š Project nameï¼štarooh Bundle nameï¼šcom.nutpi.taro Save locationï¼šé€‰æ‹©éœ€è¦åˆ›å»ºçš„ç›®å½•ï¼Œä¾‹å¦‚ ~/test/tarooh Module nameï¼šentry æ³¨æ„ï¼Œå½“å‰ Taro æ”¯æŒçš„ SDK ç‰ˆæœ¬ä¸º 4.1.1ã€‚ ç‚¹å‡» Finish å®Œæˆé¡¹ç›®åˆ›å»ºã€‚ ä¸‰ã€å®‰è£… Taro 4.1 npm install -g @tarojs/cli å®‰è£…æˆåŠŸåŽï¼Œæ£€æŸ¥ taro æ˜¯å¦ç”Ÿæ•ˆï¼š taro --version é¢„æœŸè¾“å‡ºï¼š ðŸ‘½ Taro v4.1.1 4.1.1 åˆå§‹åŒ–é¡¹ç›® taro init taro-ohos æŒ‰ç…§æç¤ºè¾“å…¥ä»¥ä¸‹é…ç½®ï¼š æ³¨æ„ï¼šå½“å‰ä»…æ”¯æŒä½¿ç”¨ Vite ç¼–è¯‘é¸¿è’™åº”ç”¨ï¼Œæ‰€ä»¥åœ¨é…ç½®æ—¶è¯·æ³¨æ„é€‰æ‹©ã€‚ ? è¯·è¾“å…¥é¡¹ç›®ä»‹ç» taro ohos ? è¯·é€‰æ‹©æ¡†æž¶ React ? æ˜¯å¦éœ€è¦ä½¿ç”¨ TypeScriptï¼ŸYes ? è¯·é€‰æ‹© CSS é¢„å¤„ç†å™¨ï¼ˆSass/Less/Stylusï¼‰Sass ? è¯·é€‰æ‹©åŒ…ç®¡ç†å·¥å…· yarn ? è¯·é€‰æ‹©ç¼–è¯‘å·¥å…· Vite ? è¯·é€‰æ‹©æ¨¡æ¿æº Giteeï¼ˆæœ€å¿«ï¼‰ âœ” æ‹‰å–è¿œç¨‹æ¨¡æ¿ä»“åº“æˆåŠŸï¼ ? è¯·é€‰æ‹©æ¨¡æ¿ é»˜è®¤æ¨¡æ¿ ç­‰å¾…é¡¹ç›®åˆ›å»ºæˆåŠŸï¼Œç›´åˆ°è¾“å‡ºä»¥ä¸‹æç¤ºï¼š Done in 44.95s. âœ” å®‰è£…é¡¹ç›®ä¾èµ–æˆåŠŸ åˆ›å»ºé¡¹ç›® taro-ohos æˆåŠŸï¼ è¯·è¿›å…¥é¡¹ç›®ç›®å½• taro-ohos å¼€å§‹å·¥ä½œå§ï¼ðŸ˜ å››ã€å®‰è£…é¸¿è’™æ’ä»¶ cd taro-ohos ç„¶åŽä½¿ç”¨ npm å®‰è£…ï¼š npm i @tarojs/plugin-platform-harmony-cpp æˆ–è€…ä½¿ç”¨ pnpm å®‰è£…ï¼š pnpm i @tarojs/plugin-platform-harmony-cpp äº”ã€ä¿®æ”¹ç¼–è¯‘é…ç½® æ‰¾åˆ° config/index.ts æ–‡ä»¶ï¼Œåœ¨ plugin å¤„æ·»åŠ  @tarojs/plugin-platform-harmony-cppï¼Œå¹¶åœ¨ rn ä¸‹æ–¹æ·»åŠ  harmony é…ç½®ï¼š import os from 'os' import path from 'path' const config = { // ... plugins: [ ['@tarojs/plugin-platform-harmony-cpp', { }] ], harmony: { // compiler: 'vite', projectPath: path.join(os.homedir(), '/Desktop/test/tarooh'), hapName: 'entry', }, // ... } æ³¨æ„ï¼šå°† projectPath è®¾ç½®ä¸º DevEco åˆ›å»ºçš„é¸¿è’™é¡¹ç›®ç›®å½•ã€‚ å…­ã€ç¼–è¯‘é¸¿è’™åº”ç”¨ # ç¼–è¯‘é¸¿è’™åº”ç”¨ taro build --type harmony_cpp # ç¼–è¯‘é¸¿è’™åŽŸç”Ÿç»„ä»¶ taro build native-components --type harmony_cpp å¦‚æžœéœ€è¦åŒæ—¶ç¼–è¯‘é¸¿è’™åº”ç”¨å’ŒåŽŸç”Ÿç»„ä»¶ï¼Œå¯ä»¥åœ¨é¡µé¢é…ç½®ä¸­æ·»åŠ  entryOption: false è¡¨ç¤ºè¯¥é¡µé¢æ˜¯ç»„ä»¶ï¼Œå¹¶é€šè¿‡ componentName æŒ‡å®šç»„ä»¶å¯¼å‡ºåï¼š export default { navigationBarTitleText: 'Hello World', + componentName: 'MyComponent', + entryOption: false, } Taro ä¼šå°†ç¼–è¯‘å¥½çš„æ–‡ä»¶è¾“å‡ºè‡³é¸¿è’™é¡¹ç›®ç›®å½•ã€‚ ä¸ƒã€è¿è¡Œé¸¿è’™åº”ç”¨ 1.é…ç½®åº”ç”¨ç­¾å æ‰“å¼€ File -> Project Structure...ï¼Œç‚¹å‡» Signing Configsï¼Œç‚¹å‡» Sign Inï¼Œç™»å½•åŽä¸ºè´¦å·ï¼Œç‚¹å‡»å³ä¸‹è§’ Applyï¼Œç„¶åŽç‚¹å‡» OKï¼Œå®Œæˆç­¾åé…ç½®ã€‚ { \"name\": \"entry\", \"version\": \"1.0.0\", \"description\": \"Please describe the basic information.\", \"main\": \"\", \"author\": \"\", \"license\": \"\", \"dependencies\": { \"@taro-oh/library\": \"file:../static/@taro-oh/library-4.1.1.har\" }, \"devDependencies\": {} } 2.è¿è¡Œåº”ç”¨ åœ¨ DevEco ä¸­ï¼Œç‚¹å‡»è¿è¡ŒæŒ‰é’®ã€‚ å…«ã€å¸¸è§é—®é¢˜è§£ç­”ï¼ˆFAQï¼‰ 1.ä¸å­˜åœ¨ç¼–è¯‘å¹³å° ${platform} è‹¥è¿è¡Œ Taro æ—¶å‡ºçŽ° throw new Error('ä¸å­˜åœ¨ç¼–è¯‘å¹³å° ${platform}') é”™è¯¯ï¼Œå¯èƒ½æ˜¯å› ä¸º config/index.ts æ–‡ä»¶ä¸­æœªæ·»åŠ  @tarojs/plugin-platform-harmony-cpp æ’ä»¶ã€‚ 2.EPERM: operation not permitted é‡åˆ°æƒé™é—®é¢˜æ—¶ï¼Œå¯æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š mkdir -p ~/.npm-global/lib/node_modules npm config set prefix '~/.npm-global' npm install -g @tarojs/cli ä¹ã€å‚è€ƒèµ„æ–™ é¸¿è’™ & OpenHarmony | Taro æ–‡æ¡£ Taro é¡¹ç›®ä»“åº“ Taro å®˜æ–¹æ–‡æ¡£ Taro UI é¡¹ç›®ä»“åº“ Taro UI å®˜æ–¹æ–‡æ¡£ plugin-platform-harmony-cpp taro-oh åã€Taro ä»“åº“æ¦‚è§ˆ ä»¥ä¸‹æ˜¯ Taro çš„ä¸»è¦ NPM åŒ…åŠå…¶åŠŸèƒ½ï¼š è·¯å¾„ æè¿° @tarojs/cli CLI å·¥å…· @tarojs/service æ’ä»¶åŒ–å†…æ ¸ @tarojs/taro-loader Webpack loaders @tarojs/helper å·¥å…·åº“ï¼Œä¸»è¦ä¾› CLIã€ç¼–è¯‘æ—¶ä½¿ç”¨ @tarojs/runner-utils å·¥å…·åº“ï¼Œä¸»è¦ä¾›å°ç¨‹åºã€H5 çš„ç¼–è¯‘å·¥å…·ä½¿ç”¨ @tarojs/shared å·¥å…·åº“ï¼Œä¸»è¦ä¾›è¿è¡Œæ—¶ä½¿ç”¨ @tarojs/taro æš´éœ²å„ç«¯æ‰€éœ€è¦çš„ Taro å¯¹è±¡ @tarojs/api å’Œå„ç«¯ç›¸å…³çš„ Taro API babel-preset-taro Babel preset eslint-config-taro ESLint è§„åˆ™ postcss-pxtransform PostCSS æ’ä»¶ï¼Œè½¬æ¢ px ä¸ºå„ç«¯çš„è‡ªé€‚åº”å°ºå¯¸å•ä½ postcss-html-transform PostCSS æ’ä»¶ï¼Œç”¨äºŽ HTMLã€å°ç¨‹åºæ ‡ç­¾çš„ç±»åç›¸äº’è½¬æ¢ åšæžœæ´¾ç¤¾åŒº åšæžœæ´¾ç¤¾åŒºç”±åšæžœã€å°æ³¢ã€ç‹¼å“¥ç­‰äººåˆ›å»ºï¼Œå›¢é˜Ÿæˆå‘˜åŒ…æ‹¬æ•°ä½åŽä¸º HDE åŠ 1000+ HarmonyOS å¼€å‘è€…ï¼Œä»¥åŠä¸‰åä½™ä½ä¸‡ç²‰åšä¸»/UP ä¸»ï¼Œä¸“æ³¨äºŽåˆ†äº« HarmonyOS/OpenHarmonyã€ä»“é¢‰ã€ArkUI-Xã€å…ƒæœåŠ¡ã€AIã€BlueOS æ“ä½œç³»ç»Ÿç­‰æŠ€æœ¯ã€‚å›¢é˜Ÿæˆå‘˜ä¸»è¦åˆ†å¸ƒåœ¨åŒ—äº¬ã€ä¸Šæµ·ã€å—äº¬ã€æ·±åœ³ã€å¹¿å·žã€è‹å·žã€é•¿æ²™ã€å®å¤ç­‰åœ°ï¼Œå·²ä¸ºåŽä¸ºã€vivoã€è…¾è®¯ã€äºšé©¬é€Šç­‰æä¾›å¼€å‘å’¨è¯¢æœåŠ¡ 100+ æ¬¡ï¼Œç´¯è®¡ç²‰ä¸ 100w+ï¼Œå­µåŒ–å¼€å‘è€… 10w+ï¼Œè¦†ç›–é«˜æ ¡ 20+ã€ä¼ä¸š 10+ã€‚è‡ªç ”åº”ç”¨ 40 æ¬¾ï¼Œä¸‰æ–¹åº“ 80 ä¸ªï¼Œé¸¿è’™åŽŸç”Ÿåº”ç”¨è¯¾ç¨‹ 500+ï¼ŒæŒç»­åŠ©åŠ›é¸¿è’™ä»“é¢‰ç­‰ç”Ÿæ€ç¹è£å‘å±•ã€‚æ¬¢è¿Žå¤§å®¶åŠ å…¥ã€‚ powered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2025-05-25 14:07:54 console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"chapter1/3.Taroè¿è¡Œå¤šå¹³å°.html":{"url":"chapter1/3.Taroè¿è¡Œå¤šå¹³å°.html","title":"3.3 Taro å¤šå¹³å°è¿è¡Œ","keywords":"","body":"H5 ç¼–è¯‘å‘½ä»¤ # yarn $ yarn dev:h5 $ yarn build:h5 # npm script $ npm run dev:h5 $ npm run build:h5 # ä»…é™å…¨å±€å®‰è£… $ taro build --type h5 --watch $ taro build --type h5 # npx ç”¨æˆ·ä¹Ÿå¯ä»¥ä½¿ç”¨ $ npx taro build --type h5 --watch $ npx taro build --type h5 å¾®ä¿¡å°ç¨‹åº ç¼–è¯‘å‘½ä»¤ # yarn $ yarn dev:weapp $ yarn build:weapp # npm script $ npm run dev:weapp $ npm run build:weapp # ä»…é™å…¨å±€å®‰è£… $ taro build --type weapp --watch $ taro build --type weapp # npx ç”¨æˆ·ä¹Ÿå¯ä»¥ä½¿ç”¨ $ npx taro build --type weapp --watch $ npx taro build --type weapp # watch åŒæ—¶å¼€å¯åŽ‹ç¼© $ set NODE_ENV=production && taro build --type weapp --watch # CMD $ NODE_ENV=production taro build --type weapp --watch # Bash çŽ¯å¢ƒåŠä¾èµ–æ£€æµ‹ Taro æä¾›äº†å‘½ä»¤æ¥ä¸€é”®æ£€æµ‹ Taro çŽ¯å¢ƒåŠä¾èµ–çš„ç‰ˆæœ¬ç­‰ä¿¡æ¯ï¼Œæ–¹ä¾¿å¤§å®¶æŸ¥çœ‹é¡¹ç›®çš„çŽ¯å¢ƒåŠä¾èµ–ï¼ŒæŽ’æŸ¥çŽ¯å¢ƒé—®é¢˜ã€‚åœ¨æ issue çš„æ—¶å€™ï¼Œè¯·é™„ä¸Š taro info æ‰“å°çš„ä¿¡æ¯ï¼Œå¸®åŠ©å¼€å‘äººå‘˜å¿«é€Ÿå®šä½é—®é¢˜ã€‚ ianguo@localhost taro-ohos % taro info ðŸ‘½ Taro v4.1.0 Taro CLI 4.1.0 environment info: System: OS: macOS 13.4.1 Shell: 5.9 - /bin/zsh Binaries: Node: 18.20.1 - /Applications/DevEco-Studio.app/Contents/tools/node/bin/node Yarn: 1.22.22 - /usr/local/bin/yarn npm: 10.5.0 - /Applications/DevEco-Studio.app/Contents/tools/node/bin/npm npmPackages: @tarojs/cli: 4.1.0 => 4.1.0 @tarojs/components: 4.1.0 => 4.1.0 @tarojs/helper: 4.1.0 => 4.1.0 @tarojs/plugin-framework-react: 4.1.0 => 4.1.0 @tarojs/plugin-platform-alipay: 4.1.0 => 4.1.0 @tarojs/plugin-platform-h5: 4.1.0 => 4.1.0 @tarojs/plugin-platform-harmony-hybrid: 4.1.0 => 4.1.0 @tarojs/plugin-platform-jd: 4.1.0 => 4.1.0 @tarojs/plugin-platform-qq: 4.1.0 => 4.1.0 @tarojs/plugin-platform-swan: 4.1.0 => 4.1.0 @tarojs/plugin-platform-tt: 4.1.0 => 4.1.0 @tarojs/plugin-platform-weapp: 4.1.0 => 4.1.0 @tarojs/react: 4.1.0 => 4.1.0 @tarojs/runtime: 4.1.0 => 4.1.0 @tarojs/shared: 4.1.0 => 4.1.0 @tarojs/taro: 4.1.0 => 4.1.0 @tarojs/vite-runner: 4.1.0 => 4.1.0 babel-preset-taro: 4.1.0 => 4.1.0 eslint-config-taro: 4.1.0 => 4.1.0 react: ^18.0.0 => 18.3.1 npmGlobalPackages: typescript: 5.2.2 jianguo@localhost taro-ohos % Taro Doctor Taro Doctor å°±åƒä¸€ä¸ªåŒ»ç”Ÿä¸€æ ·ï¼Œå¯ä»¥è¯Šæ–­é¡¹ç›®çš„ä¾èµ–ã€è®¾ç½®ã€ç»“æž„ï¼Œä»¥åŠä»£ç çš„è§„èŒƒæ˜¯å¦å­˜åœ¨é—®é¢˜ï¼Œå¹¶å°è¯•ç»™å‡ºè§£å†³æ–¹æ¡ˆã€‚ ä½†å’ŒçœŸæ­£çš„åŒ»ç”Ÿä¸ä¸€æ ·ï¼ŒTaro Doctor ä¸éœ€è¦æŽ’é˜ŸæŒ‚å·ï¼Œä¹Ÿä¸ç”¨èŠ±é’±ã€‚ä½ åªéœ€è¦åœ¨ç»ˆç«¯è¿è¡Œå‘½ä»¤ï¼štaro doctorï¼Œå°±åƒå›¾é‡Œä¸€æ ·ï¼š ianguo@localhost taro-ohos % taro doctor ðŸ‘½ Taro v4.1.0 ðŸŽ¯ éªŒè¯çŽ¯å¢ƒä¿¡æ¯ï¼ [âœ“] å®‰è£…çš„ Node ç‰ˆæœ¬ä¸º v18.20.1 ðŸŽ¯ éªŒè¯é¡¹ç›®é…ç½® (/config/index.js) ï¼ [âœ“] æˆåŠŸèŽ·å–è¿œç¨‹é…ç½®éªŒè¯æ–‡ä»¶ï¼šhttps://raw.githubusercontent.com/NervJS/taro-doctor/main/assets/config_schema.json [âœ“] é¡¹ç›®é…ç½®æ­£ç¡®ï¼ ðŸŽ¯ éªŒè¯é¡¹ç›®ä¾èµ–å®‰è£…æ­£ç¡®æ€§ï¼ [!] æœ¬åœ°å·²ç»å®‰è£…äº† Taro CLI ç‰ˆæœ¬ä¸º 4.1.0ï¼Œå»ºè®®ä½¿ç”¨ npm script æ¥æ‰§è¡Œé¡¹ç›®çš„é¢„è§ˆå’Œæ‰“åŒ… æœ¬åœ°å®‰è£…çš„ Taro ç›¸å…³ä¾èµ–ç‰ˆæœ¬ä¿¡æ¯å¦‚ä¸‹ï¼š - @tarojs/components: 4.1.0 - @tarojs/helper: 4.1.0 - @tarojs/plugin-framework-react: 4.1.0 - @tarojs/plugin-platform-alipay: 4.1.0 - @tarojs/plugin-platform-h5: 4.1.0 - @tarojs/plugin-platform-harmony-hybrid: 4.1.0 - @tarojs/plugin-platform-jd: 4.1.0 - @tarojs/plugin-platform-qq: 4.1.0 - @tarojs/plugin-platform-swan: 4.1.0 - @tarojs/plugin-platform-tt: 4.1.0 - @tarojs/plugin-platform-weapp: 4.1.0 - @tarojs/react: 4.1.0 - @tarojs/runtime: 4.1.0 - @tarojs/shared: 4.1.0 - @tarojs/taro: 4.1.0 - @tarojs/cli: 4.1.0 - @tarojs/vite-runner: 4.1.0 ðŸŽ¯ éªŒè¯æœ€ä½³å®žè·µï¼ [!] æ²¡æœ‰æ£€æŸ¥åˆ°å¸¸è§çš„æµ‹è¯•ä¾èµ–(jest/mocha/ava/tape/jesmine/karma), é…ç½®æµ‹è¯•å¯ä»¥å¸®åŠ©æå‡é¡¹ç›®è´¨é‡ å¯ä»¥å‚è€ƒ https://github.com/NervJS/taro-ui-sample é¡¹ç›®, å…¶ä¸­å·²ç»åŒ…å«äº†å®Œæ•´çš„æµ‹è¯•é…ç½®ä¸ŽèŒƒä¾‹ [!] æ²¡æœ‰æ£€æŸ¥åˆ° Readme (readme/readme.md/readme.markdown), ç¼–å†™ Readme å¯ä»¥æ–¹ä¾¿å…¶ä»–äººäº†è§£é¡¹ç›® ============= WARNING: You are currently running a version of TypeScript which is not officially supported by @typescript-eslint/typescript-estree. You may find that it works just fine, or you may not. SUPPORTED TYPESCRIPT VERSIONS: >=4.3.5 powered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2025-05-24 10:46:58 console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"chapter1/4.Taroé…ç½®.html":{"url":"chapter1/4.Taroé…ç½®.html","title":"3.4 Taro é¡¹ç›®é…ç½®è¯¦è§£","keywords":"","body":"é¸¿è’™ç‰ˆtaroç¼–è¯‘é…ç½® ç¼–è¯‘é…ç½®å­˜æ”¾äºŽé¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ config ç›®å½•ä¸­ï¼Œåªè¦ç¡®ä¿ config/index.js æˆ–è€… config/index.ts æ–‡ä»¶å­˜åœ¨ï¼Œå¯ä»¥ä½œä¸ºç”¨æˆ·è‡ªå®šä¹‰ç¼–è¯‘é…ç½®å¯¼å‡ºå³å¯ã€‚ä½ ä¹Ÿå¯ä»¥é€‰æ‹©æ‹†åˆ†æˆä¸‰ä¸ªæ–‡ä»¶ï¼ˆå…·ä½“è§é»˜è®¤é…ç½®ï¼‰ï¼š index.js æ˜¯é€šç”¨é…ç½® dev.js æ˜¯é¡¹ç›®é¢„è§ˆæ—¶çš„é…ç½® prod.js æ˜¯é¡¹ç›®æ‰“åŒ…æ—¶çš„é…ç½® config/index.js import { defineConfig, type UserConfigExport } from '@tarojs/cli' import devConfig from './dev' import prodConfig from './prod' import os from 'os' import path from 'path' // https://taro-docs.jd.com/docs/next/config#defineconfig-è¾…åŠ©å‡½æ•° export default defineConfig(async (merge, { command, mode }) => { const baseConfig: UserConfigExport = { projectName: 'taro-ohos', date: '2025-5-16', designWidth: 750, deviceRatio: { 640: 2.34 / 2, 750: 1, 375: 2, 828: 1.81 / 2 }, sourceRoot: 'src', outputRoot: 'dist', plugin: ['@tarojs/plugin-platform-harmony-cpp', { harmony: { // å½“å‰ä»…æ”¯æŒä½¿ç”¨ Vite ç¼–è¯‘é¸¿è’™åº”ç”¨ compiler: 'vite', projectPath: path.join(os.homedir(), '../tarooh'), // Taro é¡¹ç›®ç¼–è¯‘åˆ°å¯¹åº”é¸¿è’™æ¨¡å—åï¼Œé»˜è®¤ä¸º entry hapName: 'entry', }, }], defineConstants: { }, copy: { patterns: [ ], options: { } }, framework: 'react', compiler: 'vite', mini: { postcss: { pxtransform: { enable: true, config: { } }, cssModules: { enable: false, // é»˜è®¤ä¸º falseï¼Œå¦‚éœ€ä½¿ç”¨ css modules åŠŸèƒ½ï¼Œåˆ™è®¾ä¸º true config: { namingPattern: 'module', // è½¬æ¢æ¨¡å¼ï¼Œå–å€¼ä¸º global/module generateScopedName: '[name]__[local]___[hash:base64:5]' } } }, }, // plugins: [], h5: { publicPath: '/', staticDirectory: 'static', miniCssExtractPluginOption: { ignoreOrder: true, filename: 'css/[name].[hash].css', chunkFilename: 'css/[name].[chunkhash].css' }, postcss: { autoprefixer: { enable: true, config: {} }, cssModules: { enable: false, // é»˜è®¤ä¸º falseï¼Œå¦‚éœ€ä½¿ç”¨ css modules åŠŸèƒ½ï¼Œåˆ™è®¾ä¸º true config: { namingPattern: 'module', // è½¬æ¢æ¨¡å¼ï¼Œå–å€¼ä¸º global/module generateScopedName: '[name]__[local]___[hash:base64:5]' } } }, }, rn: { appName: 'taroDemo', postcss: { cssModules: { enable: false, // é»˜è®¤ä¸º falseï¼Œå¦‚éœ€ä½¿ç”¨ css modules åŠŸèƒ½ï¼Œåˆ™è®¾ä¸º true } } }, } process.env.BROWSERSLIST_ENV = process.env.NODE_ENV if (process.env.NODE_ENV === 'development') { // æœ¬åœ°å¼€å‘æž„å»ºé…ç½®ï¼ˆä¸æ··æ·†åŽ‹ç¼©ï¼‰ return merge({}, baseConfig, devConfig) } // ç”Ÿäº§æž„å»ºé…ç½®ï¼ˆé»˜è®¤å¼€å¯åŽ‹ç¼©æ··æ·†ç­‰ï¼‰ return merge({}, baseConfig, prodConfig) }) å®Œæ¯•ï¼Œ powered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2025-05-24 10:46:58 console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"chapter1/5.é¸¿è’™ç‰ˆTaroæ­å»ºå¼€å‘çŽ¯å¢ƒ.html":{"url":"chapter1/5.é¸¿è’™ç‰ˆTaroæ­å»ºå¼€å‘çŽ¯å¢ƒ.html","title":"4.1 é¸¿è’™ç‰ˆ Taro å¼€å‘çŽ¯å¢ƒæ­å»º","keywords":"","body":"é¸¿è’™ç‰ˆTaro æ­å»ºå¼€å‘çŽ¯å¢ƒ ä¸€ã€é…ç½®é¸¿è’™çŽ¯å¢ƒ ä¸‹è½½å®‰è£… DevEco å»ºè®®ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„ IDEï¼Œå½“å‰ä¸º 5.0.5Release ç‰ˆæœ¬ã€‚ äºŒã€åˆ›å»ºé¸¿è’™é¡¹ç›® æ‰“å¼€ DevEcoï¼Œç‚¹å‡»å³ä¸Šè§’çš„ Create Projectï¼Œåœ¨ Application å¤„é€‰æ‹© Empty Abilityï¼Œç‚¹å‡» Nextï¼Œè¿›å…¥é…ç½®é¡µé¢ï¼Œæ ¹æ®éœ€æ±‚è°ƒæ•´å†…å®¹ï¼Œè¿™é‡Œä½¿ç”¨é»˜è®¤é…ç½®ï¼š Project nameï¼štarooh Bundle nameï¼šcom.nutpi.taro Save locationï¼šé€‰æ‹©éœ€è¦åˆ›å»ºçš„ç›®å½•ï¼Œä¾‹å¦‚ ~/test/tarooh Module nameï¼šentry æ³¨æ„ï¼Œå½“å‰ Taro æ”¯æŒçš„ SDK ç‰ˆæœ¬ä¸º 4.1.1ã€‚ ç‚¹å‡» Finish å®Œæˆé¡¹ç›®åˆ›å»ºã€‚ ä¸‰ã€å®‰è£… Taro 4.1 npm install -g @tarojs/cli å®‰è£…æˆåŠŸåŽï¼Œæ£€æŸ¥ taro æ˜¯å¦ç”Ÿæ•ˆï¼š taro --version é¢„æœŸè¾“å‡ºï¼š ðŸ‘½ Taro v4.1.1 4.1.1 åˆå§‹åŒ–é¡¹ç›® taro init taro-ohos æŒ‰ç…§æç¤ºè¾“å…¥ä»¥ä¸‹é…ç½®ï¼š æ³¨æ„ï¼šå½“å‰ä»…æ”¯æŒä½¿ç”¨ Vite ç¼–è¯‘é¸¿è’™åº”ç”¨ï¼Œæ‰€ä»¥åœ¨é…ç½®æ—¶è¯·æ³¨æ„é€‰æ‹©ã€‚ ? è¯·è¾“å…¥é¡¹ç›®ä»‹ç» taro ohos ? è¯·é€‰æ‹©æ¡†æž¶ React ? æ˜¯å¦éœ€è¦ä½¿ç”¨ TypeScriptï¼ŸYes ? è¯·é€‰æ‹© CSS é¢„å¤„ç†å™¨ï¼ˆSass/Less/Stylusï¼‰Sass ? è¯·é€‰æ‹©åŒ…ç®¡ç†å·¥å…· yarn ? è¯·é€‰æ‹©ç¼–è¯‘å·¥å…· Vite ? è¯·é€‰æ‹©æ¨¡æ¿æº Giteeï¼ˆæœ€å¿«ï¼‰ âœ” æ‹‰å–è¿œç¨‹æ¨¡æ¿ä»“åº“æˆåŠŸï¼ ? è¯·é€‰æ‹©æ¨¡æ¿ é»˜è®¤æ¨¡æ¿ ç­‰å¾…é¡¹ç›®åˆ›å»ºæˆåŠŸï¼Œç›´åˆ°è¾“å‡ºä»¥ä¸‹æç¤ºï¼š Done in 44.95s. âœ” å®‰è£…é¡¹ç›®ä¾èµ–æˆåŠŸ åˆ›å»ºé¡¹ç›® taro-ohos æˆåŠŸï¼ è¯·è¿›å…¥é¡¹ç›®ç›®å½• taro-ohos å¼€å§‹å·¥ä½œå§ï¼ðŸ˜ å››ã€å®‰è£…é¸¿è’™æ’ä»¶ cd taro-ohos ç„¶åŽä½¿ç”¨ npm å®‰è£…ï¼š npm i @tarojs/plugin-platform-harmony-cpp æˆ–è€…ä½¿ç”¨ pnpm å®‰è£…ï¼š pnpm i @tarojs/plugin-platform-harmony-cpp äº”ã€ä¿®æ”¹ç¼–è¯‘é…ç½® æ‰¾åˆ° config/index.ts æ–‡ä»¶ï¼Œåœ¨ plugin å¤„æ·»åŠ  @tarojs/plugin-platform-harmony-cppï¼Œå¹¶åœ¨ rn ä¸‹æ–¹æ·»åŠ  harmony é…ç½®ï¼š import os from 'os' import path from 'path' const config = { // ... plugins: [ ['@tarojs/plugin-platform-harmony-cpp', { }] ], harmony: { // compiler: 'vite', projectPath: path.join(os.homedir(), '/Desktop/test/tarooh'), hapName: 'entry', }, // ... } æ³¨æ„ï¼šå°† projectPath è®¾ç½®ä¸º DevEco åˆ›å»ºçš„é¸¿è’™é¡¹ç›®ç›®å½•ã€‚ å…­ã€ç¼–è¯‘é¸¿è’™åº”ç”¨ # ç¼–è¯‘é¸¿è’™åº”ç”¨ taro build --type harmony_cpp # ç¼–è¯‘é¸¿è’™åŽŸç”Ÿç»„ä»¶ taro build native-components --type harmony_cpp å¦‚æžœéœ€è¦åŒæ—¶ç¼–è¯‘é¸¿è’™åº”ç”¨å’ŒåŽŸç”Ÿç»„ä»¶ï¼Œå¯ä»¥åœ¨é¡µé¢é…ç½®ä¸­æ·»åŠ  entryOption: false è¡¨ç¤ºè¯¥é¡µé¢æ˜¯ç»„ä»¶ï¼Œå¹¶é€šè¿‡ componentName æŒ‡å®šç»„ä»¶å¯¼å‡ºåï¼š export default { navigationBarTitleText: 'Hello World', + componentName: 'MyComponent', + entryOption: false, } Taro ä¼šå°†ç¼–è¯‘å¥½çš„æ–‡ä»¶è¾“å‡ºè‡³é¸¿è’™é¡¹ç›®ç›®å½•ã€‚ ä¸ƒã€è¿è¡Œé¸¿è’™åº”ç”¨ 1.é…ç½®åº”ç”¨ç­¾å æ‰“å¼€ File -> Project Structure...ï¼Œç‚¹å‡» Signing Configsï¼Œç‚¹å‡» Sign Inï¼Œç™»å½•åŽä¸ºè´¦å·ï¼Œç‚¹å‡»å³ä¸‹è§’ Applyï¼Œç„¶åŽç‚¹å‡» OKï¼Œå®Œæˆç­¾åé…ç½®ã€‚ { \"name\": \"entry\", \"version\": \"1.0.0\", \"description\": \"Please describe the basic information.\", \"main\": \"\", \"author\": \"\", \"license\": \"\", \"dependencies\": { \"@taro-oh/library\": \"file:../static/@taro-oh/library-4.1.1.har\" }, \"devDependencies\": {} } 2.è¿è¡Œåº”ç”¨ åœ¨ DevEco ä¸­ï¼Œç‚¹å‡»è¿è¡ŒæŒ‰é’®ã€‚ å…«ã€å¸¸è§é—®é¢˜è§£ç­”ï¼ˆFAQï¼‰ 1.ä¸å­˜åœ¨ç¼–è¯‘å¹³å° ${platform} è‹¥è¿è¡Œ Taro æ—¶å‡ºçŽ° throw new Error('ä¸å­˜åœ¨ç¼–è¯‘å¹³å° ${platform}') é”™è¯¯ï¼Œå¯èƒ½æ˜¯å› ä¸º config/index.ts æ–‡ä»¶ä¸­æœªæ·»åŠ  @tarojs/plugin-platform-harmony-cpp æ’ä»¶ã€‚ 2.EPERM: operation not permitted é‡åˆ°æƒé™é—®é¢˜æ—¶ï¼Œå¯æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š mkdir -p ~/.npm-global/lib/node_modules npm config set prefix '~/.npm-global' npm install -g @tarojs/cli ä¹ã€å‚è€ƒèµ„æ–™ é¸¿è’™ & OpenHarmony | Taro æ–‡æ¡£ Taro é¡¹ç›®ä»“åº“ Taro å®˜æ–¹æ–‡æ¡£ Taro UI é¡¹ç›®ä»“åº“ Taro UI å®˜æ–¹æ–‡æ¡£ plugin-platform-harmony-cpp taro-oh åã€Taro ä»“åº“æ¦‚è§ˆ ä»¥ä¸‹æ˜¯ Taro çš„ä¸»è¦ NPM åŒ…åŠå…¶åŠŸèƒ½ï¼š è·¯å¾„ æè¿° @tarojs/cli CLI å·¥å…· @tarojs/service æ’ä»¶åŒ–å†…æ ¸ @tarojs/taro-loader Webpack loaders @tarojs/helper å·¥å…·åº“ï¼Œä¸»è¦ä¾› CLIã€ç¼–è¯‘æ—¶ä½¿ç”¨ @tarojs/runner-utils å·¥å…·åº“ï¼Œä¸»è¦ä¾›å°ç¨‹åºã€H5 çš„ç¼–è¯‘å·¥å…·ä½¿ç”¨ @tarojs/shared å·¥å…·åº“ï¼Œä¸»è¦ä¾›è¿è¡Œæ—¶ä½¿ç”¨ @tarojs/taro æš´éœ²å„ç«¯æ‰€éœ€è¦çš„ Taro å¯¹è±¡ @tarojs/api å’Œå„ç«¯ç›¸å…³çš„ Taro API babel-preset-taro Babel preset eslint-config-taro ESLint è§„åˆ™ postcss-pxtransform PostCSS æ’ä»¶ï¼Œè½¬æ¢ px ä¸ºå„ç«¯çš„è‡ªé€‚åº”å°ºå¯¸å•ä½ postcss-html-transform PostCSS æ’ä»¶ï¼Œç”¨äºŽ HTMLã€å°ç¨‹åºæ ‡ç­¾çš„ç±»åç›¸äº’è½¬æ¢ åšæžœæ´¾ç¤¾åŒº åšæžœæ´¾ç¤¾åŒºç”±åšæžœã€å°æ³¢ã€ç‹¼å“¥ç­‰äººåˆ›å»ºï¼Œå›¢é˜Ÿæˆå‘˜åŒ…æ‹¬æ•°ä½åŽä¸º HDE åŠ 1000+ HarmonyOS å¼€å‘è€…ï¼Œä»¥åŠä¸‰åä½™ä½ä¸‡ç²‰åšä¸»/UP ä¸»ï¼Œä¸“æ³¨äºŽåˆ†äº« HarmonyOS/OpenHarmonyã€ä»“é¢‰ã€ArkUI-Xã€å…ƒæœåŠ¡ã€AIã€BlueOS æ“ä½œç³»ç»Ÿç­‰æŠ€æœ¯ã€‚å›¢é˜Ÿæˆå‘˜ä¸»è¦åˆ†å¸ƒåœ¨åŒ—äº¬ã€ä¸Šæµ·ã€å—äº¬ã€æ·±åœ³ã€å¹¿å·žã€è‹å·žã€é•¿æ²™ã€å®å¤ç­‰åœ°ï¼Œå·²ä¸ºåŽä¸ºã€vivoã€è…¾è®¯ã€äºšé©¬é€Šç­‰æä¾›å¼€å‘å’¨è¯¢æœåŠ¡ 100+ æ¬¡ï¼Œç´¯è®¡ç²‰ä¸ 100w+ï¼Œå­µåŒ–å¼€å‘è€… 10w+ï¼Œè¦†ç›–é«˜æ ¡ 20+ã€ä¼ä¸š 10+ã€‚è‡ªç ”åº”ç”¨ 40 æ¬¾ï¼Œä¸‰æ–¹åº“ 80 ä¸ªï¼Œé¸¿è’™åŽŸç”Ÿåº”ç”¨è¯¾ç¨‹ 500+ï¼ŒæŒç»­åŠ©åŠ›é¸¿è’™ä»“é¢‰ç­‰ç”Ÿæ€ç¹è£å‘å±•ã€‚æ¬¢è¿Žå¤§å®¶åŠ å…¥ã€‚ powered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2025-06-03 17:52:02 console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"chapter1/6.é¸¿è’™ç‰ˆtaroç¼–è¯‘é…ç½®.html":{"url":"chapter1/6.é¸¿è’™ç‰ˆtaroç¼–è¯‘é…ç½®.html","title":"4.2 é¸¿è’™ç‰ˆ Taro ç¼–è¯‘é…ç½®","keywords":"","body":"é¸¿è’™ç‰ˆtaroç¼–è¯‘é…ç½® ç¼–è¯‘é…ç½®å­˜æ”¾äºŽé¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ config ç›®å½•ä¸­ï¼Œåªè¦ç¡®ä¿ config/index.js æˆ–è€… config/index.ts æ–‡ä»¶å­˜åœ¨ï¼Œå¯ä»¥ä½œä¸ºç”¨æˆ·è‡ªå®šä¹‰ç¼–è¯‘é…ç½®å¯¼å‡ºå³å¯ã€‚ä½ ä¹Ÿå¯ä»¥é€‰æ‹©æ‹†åˆ†æˆä¸‰ä¸ªæ–‡ä»¶ï¼ˆå…·ä½“è§é»˜è®¤é…ç½®ï¼‰ï¼š index.js æ˜¯é€šç”¨é…ç½® dev.js æ˜¯é¡¹ç›®é¢„è§ˆæ—¶çš„é…ç½® prod.js æ˜¯é¡¹ç›®æ‰“åŒ…æ—¶çš„é…ç½® config/index.js import { defineConfig, type UserConfigExport } from '@tarojs/cli' import devConfig from './dev' import prodConfig from './prod' import os from 'os' import path from 'path' // https://taro-docs.jd.com/docs/next/config#defineconfig-è¾…åŠ©å‡½æ•° export default defineConfig(async (merge, { command, mode }) => { const baseConfig: UserConfigExport = { projectName: 'taro-ohos', date: '2025-5-16', designWidth: 750, deviceRatio: { 640: 2.34 / 2, 750: 1, 375: 2, 828: 1.81 / 2 }, sourceRoot: 'src', outputRoot: 'dist', plugin: ['@tarojs/plugin-platform-harmony-cpp', { harmony: { // å½“å‰ä»…æ”¯æŒä½¿ç”¨ Vite ç¼–è¯‘é¸¿è’™åº”ç”¨ compiler: 'vite', projectPath: path.join(os.homedir(), '../tarooh'), // Taro é¡¹ç›®ç¼–è¯‘åˆ°å¯¹åº”é¸¿è’™æ¨¡å—åï¼Œé»˜è®¤ä¸º entry hapName: 'entry', }, }], defineConstants: { }, copy: { patterns: [ ], options: { } }, framework: 'react', compiler: 'vite', mini: { postcss: { pxtransform: { enable: true, config: { } }, cssModules: { enable: false, // é»˜è®¤ä¸º falseï¼Œå¦‚éœ€ä½¿ç”¨ css modules åŠŸèƒ½ï¼Œåˆ™è®¾ä¸º true config: { namingPattern: 'module', // è½¬æ¢æ¨¡å¼ï¼Œå–å€¼ä¸º global/module generateScopedName: '[name]__[local]___[hash:base64:5]' } } }, }, // plugins: [], h5: { publicPath: '/', staticDirectory: 'static', miniCssExtractPluginOption: { ignoreOrder: true, filename: 'css/[name].[hash].css', chunkFilename: 'css/[name].[chunkhash].css' }, postcss: { autoprefixer: { enable: true, config: {} }, cssModules: { enable: false, // é»˜è®¤ä¸º falseï¼Œå¦‚éœ€ä½¿ç”¨ css modules åŠŸèƒ½ï¼Œåˆ™è®¾ä¸º true config: { namingPattern: 'module', // è½¬æ¢æ¨¡å¼ï¼Œå–å€¼ä¸º global/module generateScopedName: '[name]__[local]___[hash:base64:5]' } } }, }, rn: { appName: 'taroDemo', postcss: { cssModules: { enable: false, // é»˜è®¤ä¸º falseï¼Œå¦‚éœ€ä½¿ç”¨ css modules åŠŸèƒ½ï¼Œåˆ™è®¾ä¸º true } } }, } process.env.BROWSERSLIST_ENV = process.env.NODE_ENV if (process.env.NODE_ENV === 'development') { // æœ¬åœ°å¼€å‘æž„å»ºé…ç½®ï¼ˆä¸æ··æ·†åŽ‹ç¼©ï¼‰ return merge({}, baseConfig, devConfig) } // ç”Ÿäº§æž„å»ºé…ç½®ï¼ˆé»˜è®¤å¼€å¯åŽ‹ç¼©æ··æ·†ç­‰ï¼‰ return merge({}, baseConfig, prodConfig) }) å®Œæ¯•ï¼Œ powered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2025-05-19 19:40:13 console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"chapter5/1.ç»„ä»¶å¼€å‘ä¸Žé€‚é….html":{"url":"chapter5/1.ç»„ä»¶å¼€å‘ä¸Žé€‚é….html","title":"5.1 ç»„ä»¶å¼€å‘ä¸Žé€‚é…","keywords":"","body":"5.1 ç»„ä»¶å¼€å‘ä¸Žé€‚é… æ¦‚è¿° åœ¨ Taro For Harmony å¼€å‘ä¸­ï¼Œç»„ä»¶å¼€å‘ä¸Žé€‚é…æ˜¯æž„å»ºé«˜è´¨é‡åº”ç”¨çš„å…³é”®çŽ¯èŠ‚ã€‚æœ¬ç« å°†è¯¦ç»†ä»‹ç»å¦‚ä½•å¼€å‘é€‚é…é¸¿è’™å¹³å°çš„ Taro ç»„ä»¶ã€‚ 5.1.1 ç»„ä»¶å¼€å‘åŸºç¡€ å‡½æ•°å¼ç»„ä»¶ ```jsx import { View, Text } from '@tarojs/components' import { useState } from 'react' const CustomButton = ({ title, onPress, disabled = false }) => { const [pressed, setPressed] = useState(false) const handlePress = () => { if (!disabled && onPress) { setPressed(true) onPress() setTimeout(() => setPressed(false), 150) } } return ( {title} ) } export default CustomButton powered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2025-06-30 08:32:10 console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"}}